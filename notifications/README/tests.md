# Тесты приложения Notifications

## Тесты моделей

### Тесты NotificationPreference
- Создание настроек уведомлений
- Значения по умолчанию
- Валидация тихих часов
- Проверка радиуса уведомлений

### Тесты Notification
- Создание уведомлений разных типов
- Связь с объектами через ContentType
- Отметка о прочтении
- Сортировка по времени создания
- Строковое представление

### Тесты NotificationBatch
- Создание пакетов уведомлений
- Группировка уведомлений
- Планирование отправки
- Статус отправки

### Тесты PushToken
- Регистрация токенов
- Уникальность токенов
- Активация/деактивация
- Обновление времени использования

## Тесты сервисов

### Тесты NotificationService

#### Тесты создания уведомлений:
- Создание разных типов уведомлений
- Проверка настроек пользователя
- Учет тихого режима
- Выбор способа доставки

#### Тесты отправки уведомлений:
- Отправка email уведомлений
- Отправка push уведомлений
- Обработка ошибок отправки
- Проверка статусов отправки

#### Тесты пакетной обработки:
- Создание пакетов
- Группировка по типам
- Отложенная отправка
- Обработка очереди

#### Тесты управления уведомлениями:
- Отметка о прочтении
- Массовая отметка
- Подсчет непрочитанных
- Управление push-токенами

## Тесты представлений

### Тесты списка уведомлений:
- Получение списка
- Фильтрация по типу
- Фильтрация по статусу
- Проверка пагинации
- Права доступа

### Тесты настроек уведомлений:
- Получение формы
- Сохранение настроек
- Валидация данных
- Обработка ошибок

### Тесты управления уведомлениями:
- Отметка как прочитанное
- Массовая отметка
- Удаление уведомлений
- AJAX-запросы

### Тесты push-токенов:
- Регистрация токена
- Отключение токена
- Обработка ошибок
- Проверка ответов API

## Тесты форм

### Тесты NotificationPreferenceForm:
- Валидация полей
- Проверка обязательных полей
- Валидация тихих часов
- Проверка радиуса
- Обработка ошибок

## Тесты интеграции

### Тесты взаимодействия компонентов:
- Полный цикл уведомления
- Отправка через разные каналы
- Пакетная обработка
- Обновление счетчиков

### Тесты производительности:
- Массовая обработка уведомлений
- Проверка индексов
- Время отклика системы

## Как запускать тесты

### Все тесты приложения:
```bash
python manage.py test notifications
```

### Тесты моделей:
```bash
python manage.py test notifications.tests.test_models
```

### Тесты сервисов:
```bash
python manage.py test notifications.tests.test_services
```

### Тесты представлений:
```bash
python manage.py test notifications.tests.test_views
```

### Тесты форм:
```bash
python manage.py test notifications.tests.test_forms
``` 