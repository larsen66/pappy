# Тесты приложения Pets

## Тесты моделей

### Тесты SwipeAction
- Создание действия свайпа
- Проверка уникальности
- Автоматическое создание совпадения
- Создание диалога при лайке
- Проверка меток времени

### Тесты SwipeHistory
- Создание записи в истории
- Отслеживание просмотров
- Проверка возврата к карточке
- Уникальность записей

### Тесты Match
- Создание совпадения
- Проверка активности
- Расчет совместимости для вязки
- Связи с пользователями и объявлениями

## Тесты системы свайпов

### Тесты SwipeSystem

#### Тесты получения карточек:
- Получение следующих карточек
- Фильтрация просмотренных
- Приоритизация премиум
- Проверка случайного порядка

#### Тесты обработки свайпов:
- Создание свайпа
- Проверка взаимных лайков
- Создание совпадений
- Расчет совместимости

#### Тесты алгоритма подбора:
- Проверка премиум объявлений
- Исключение собственных объявлений
- Проверка индексов
- Очистка старых записей

## Тесты представлений

### Тесты свайп-интерфейса:
- Получение карточки
- Обработка действий
- AJAX-запросы
- Проверка прав доступа

### Тесты обработки свайпов:
- Создание свайпа
- Валидация параметров
- Создание совпадений
- Обработка ошибок

### Тесты отмены свайпа:
- Возврат к карточке
- Удаление действия
- Обновление истории
- Проверка ограничений

### Тесты страницы совпадений:
- Получение списка
- Фильтрация по типу
- Проверка сортировки
- Права доступа

## Тесты API

### Тесты SwipeViewSet:
- Получение карточек
- Обработка свайпов
- Аутентификация
- Проверка ответов

### Тесты сериализаторов:
- AnimalAnnouncementSerializer
- AnnouncementSerializer
- MatchSerializer
- Валидация данных

## Тесты совместимости

### Тесты проверки совместимости:
- Базовая совместимость
- Проверка породы
- Проверка возраста
- Расчет итоговой оценки

### Тесты создания пар:
- Создание для вязки
- Обычные совпадения
- Проверка условий
- Обработка ошибок

## Тесты интеграции

### Тесты взаимодействия:
- Полный цикл свайпа
- Создание совпадения
- Создание диалога
- Обновление статусов

### Тесты производительности:
- Массовая обработка
- Проверка индексов
- Время отклика

## Как запускать тесты

### Все тесты приложения:
```bash
python manage.py test pets
```

### Тесты моделей:
```bash
python manage.py test pets.tests.test_models
```

### Тесты системы свайпов:
```bash
python manage.py test pets.tests.test_swipe_system
```

### Тесты API:
```bash
python manage.py test pets.tests.test_api
``` 