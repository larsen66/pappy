# Тесты приложения Moderation

## Тесты моделей

### Тесты ModerationAction
- Создание действий модерации
- Проверка типов действий
- Связь с модерируемым объектом
- Проверка меток времени

### Тесты UserWarning
- Создание предупреждений
- Проверка активности предупреждений
- Связь с пользователем и модератором
- Проверка меток времени

### Тесты UserBan
- Создание временного бана
- Создание перманентного бана
- Проверка срока действия бана
- Проверка активности бана
- Связь с пользователем и модератором

### Тесты ModerationQueue
- Создание элемента очереди
- Изменение статуса
- Проверка связей с объектами
- Проверка сортировки по времени

## Тесты сервисов

### Тесты ModerationService

#### Тесты очереди модерации:
- Добавление объекта в очередь
- Получение списка ожидающих модерации
- Фильтрация по типу контента

#### Тесты обработки элементов:
- Одобрение элемента
- Отклонение элемента
- Проверка транзакционности
- Создание записи о действии

#### Тесты системы предупреждений:
- Выдача предупреждения
- Подсчет активных предупреждений
- Автоматический бан после 3 предупреждений
- Деактивация предупреждений

#### Тесты системы банов:
- Создание временного бана
- Создание перманентного бана
- Проверка статуса бана
- Проверка срока действия

### Тесты AutoModerationService

#### Тесты проверки объявлений:
- Проверка запрещенных слов
- Выявление спам-признаков
- Проверка изображений
- Проверка цен

#### Тесты системы апелляций:
- Подача апелляции
- Обработка апелляции
- Возврат в очередь модерации
- Сохранение истории апелляций

## Тесты интеграции

### Тесты взаимодействия компонентов:
- Полный цикл модерации объекта
- Система предупреждений и банов
- Автомодерация и апелляции

### Тесты производительности:
- Массовая обработка элементов
- Проверка индексов
- Время отклика системы

## Как запускать тесты

### Все тесты приложения:
```bash
python manage.py test moderation
```

### Тесты моделей:
```bash
python manage.py test moderation.tests.test_models
```

### Тесты сервисов:
```bash
python manage.py test moderation.tests.test_services
```

### Тесты автомодерации:
```bash
python manage.py test moderation.tests.test_auto_moderation
``` 