# Обзор приложения Announcements

## Общее описание
Приложение Announcements представляет собой комплексную систему для управления объявлениями, специализирующуюся на объявлениях, связанных с животными. Система поддерживает различные типы объявлений, включая продажу животных, услуги для животных, вязку и поиск потерянных/найденных животных.

## Основные компоненты

### Модели данных (models.py)
1. **AnnouncementCategory**
   - Иерархическая структура категорий объявлений
   - Поддержка вложенных категорий через self-reference

2. **Announcement**
   - Базовая модель для всех типов объявлений
   - Поддерживает типы: животные, услуги, вязка, потеряно/найдено
   - Включает геолокацию, статус модерации, цену

3. **AnimalAnnouncement**
   - Специализированная модель для объявлений о животных
   - Характеристики: вид, порода, возраст, пол, размер
   - Медицинская информация: вакцинация, паспорт, чип

4. **ServiceAnnouncement**
   - Объявления об услугах для животных
   - Типы услуг: выгул, груминг, дрессировка, ветеринария
   - Информация о специалисте: опыт, сертификаты

5. **MatingAnnouncement**
   - Объявления о вязке животных
   - Медицинские документы и тесты
   - Требования к партнеру

6. **LostFoundAnnouncement**
   - Объявления о потерянных/найденных животных
   - Система геолокации и поиска совпадений

### Представления (views.py)
1. **Основные представления**
   - Список объявлений с фильтрацией
   - Создание, редактирование, удаление объявлений
   - Детальный просмотр объявлений

2. **Специализированные представления**
   - Управление потерянными/найденными животными
   - Личный кабинет пользователя
   - Модерация объявлений

### API (views_api.py, serializers.py)
1. **REST API endpoints**
   - CRUD операции для всех типов объявлений
   - Фильтрация и поиск
   - Управление изображениями

2. **Сериализаторы**
   - Валидация данных
   - Преобразование моделей в JSON
   - Обработка вложенных данных

### Формы (forms.py)
1. **Основные формы**
   - AnnouncementForm
   - AnimalAnnouncementForm
   - ServiceAnnouncementForm
   - MatingAnnouncementForm
   - LostFoundAnnouncementForm

2. **Дополнительные формы**
   - Поиск объявлений
   - Загрузка изображений
   - Фильтрация результатов

### Система поиска и фильтрации (filters.py)
- Фильтрация по цене, местоположению, дате
- Полнотекстовый поиск
- Геолокационный поиск

### Система сопоставления (matching.py)
- Алгоритм поиска совпадений для потерянных/найденных животных
- Анализ изображений с использованием ML
- Текстовый анализ описаний

### Права доступа (permissions.py)
1. **Классы разрешений**
   - IsAuthorOrReadOnly
   - IsAnnouncementAuthorOrReadOnly
   - IsSpecialistOrReadOnly
   - IsModeratorOrReadOnly

### Сигналы (signals.py)
- Обработка изменений статуса объявлений
- Уведомления пользователей
- Автоматическая модерация

### Маршрутизация (urls.py, urls_api.py)
1. **Web-интерфейс**
   - Основные страницы приложения
   - Пользовательские действия

2. **API endpoints**
   - REST API маршруты
   - Документация API

## Дополнительные функции

### Геолокация
- Поиск по радиусу
- Отображение на карте
- Расчет расстояний

### Система уведомлений
- Уведомления о статусе объявлений
- Оповещения о потенциальных совпадениях
- Системные уведомления

### Модерация
- Автоматическая проверка контента
- Ручная модерация
- Система статусов объявлений

### Безопасность
- Проверка прав доступа
- Валидация данных
- Защита от спама

## Технические особенности
- Использование Django и DRF
- Интеграция с ML для анализа изображений
- Геопространственные функции
- Оптимизация производительности
- Масштабируемая архитектура

## Интеграции
- Система уведомлений
- Геолокационные сервисы
- Платежные системы
- Системы модерации контента 